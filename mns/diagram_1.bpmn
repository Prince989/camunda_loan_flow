<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1bo1xt1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.12.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.18.0">
  <bpmn:process id="loan_approval" isExecutable="true" camunda:historyTimeToLive="365">
    <bpmn:startEvent id="StartEvent_1" name="Loan Application Received">
      <bpmn:outgoing>Flow_1e2fwbz</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1e2fwbz" sourceRef="StartEvent_1" targetRef="Activity_0xtxp0k" />
    <bpmn:sequenceFlow id="Flow_02d7sdc" sourceRef="Activity_0xtxp0k" targetRef="Activity_1dx7y1t" />
    <bpmn:sequenceFlow id="Flow_16pikkd" sourceRef="Activity_1dx7y1t" targetRef="Gateway_093v3xx" />
    <bpmn:sequenceFlow id="Flow_1dit7wy" sourceRef="Activity_0flz5fj" targetRef="Activity_04rdh8t" />
    <bpmn:endEvent id="Event_03lb1v3" name="Loan Process Completed">
      <bpmn:incoming>Flow_0gr02i3</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0gr02i3" sourceRef="Activity_04rdh8t" targetRef="Event_03lb1v3" />
    <bpmn:sequenceFlow id="Flow_0un6jzh" sourceRef="Activity_00j3fq5" targetRef="Activity_04rdh8t" />
    <bpmn:serviceTask id="Activity_0xtxp0k" name="Register Application" camunda:type="external" camunda:topic="loan_register">
      <bpmn:incoming>Flow_1e2fwbz</bpmn:incoming>
      <bpmn:outgoing>Flow_02d7sdc</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_093v3xx" name="Risk Acceptable?" default="Flow_1why1f1">
      <bpmn:incoming>Flow_16pikkd</bpmn:incoming>
      <bpmn:outgoing>Flow_1why1f1</bpmn:outgoing>
      <bpmn:outgoing>Flow_0vh8sau</bpmn:outgoing>
      <bpmn:outgoing>Flow_07kbyoj</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1why1f1" sourceRef="Gateway_093v3xx" targetRef="Activity_1ivnm4u" />
    <bpmn:sequenceFlow id="Flow_0vh8sau" sourceRef="Gateway_093v3xx" targetRef="Activity_0flz5fj">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${riskResult != null &amp;&amp; riskResult['riskScore'] &lt;= 30}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Activity_0flz5fj" name="Approve Loan" camunda:type="external" camunda:topic="loan_approve">
      <bpmn:incoming>Flow_0vh8sau</bpmn:incoming>
      <bpmn:incoming>Flow_0yskhnd</bpmn:incoming>
      <bpmn:outgoing>Flow_1dit7wy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_07kbyoj" sourceRef="Gateway_093v3xx" targetRef="Activity_00j3fq5">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${riskResult != null &amp;&amp; riskResult['riskScore'] &gt; 60}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Activity_04rdh8t" name="Notify Applicant" camunda:type="external" camunda:topic="notify_applicant">
      <bpmn:incoming>Flow_1dit7wy</bpmn:incoming>
      <bpmn:incoming>Flow_0un6jzh</bpmn:incoming>
      <bpmn:outgoing>Flow_0gr02i3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0yskhnd" sourceRef="Activity_1ivnm4u" targetRef="Activity_0flz5fj" />
    <bpmn:userTask id="Activity_1ivnm4u" name="Manual Review" camunda:candidateGroups="loan_officers">
      <bpmn:incoming>Flow_1why1f1</bpmn:incoming>
      <bpmn:outgoing>Flow_0yskhnd</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_00j3fq5" name="Reject Loan" camunda:type="external" camunda:topic="loan_reject">
      <bpmn:incoming>Flow_07kbyoj</bpmn:incoming>
      <bpmn:outgoing>Flow_0un6jzh</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:businessRuleTask id="Activity_1dx7y1t" name="Automatic Risk Check" camunda:resultVariable="riskResult" camunda:decisionRef="FinalRisk" camunda:mapDecisionResult="singleResult">
      <bpmn:incoming>Flow_02d7sdc</bpmn:incoming>
      <bpmn:outgoing>Flow_16pikkd</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:group id="Group_0ipv9a3" />
    <bpmn:textAnnotation id="TextAnnotation_1t3w0kv">
      <bpmn:text>Yes</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1hk4rg2">
      <bpmn:text>No</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0wenwgm" sourceRef="Flow_1why1f1" targetRef="TextAnnotation_1hk4rg2" />
    <bpmn:association id="Association_0heymm6" sourceRef="Flow_0vh8sau" targetRef="TextAnnotation_1t3w0kv" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="loan_approval">
      <bpmndi:BPMNEdge id="Flow_0yskhnd_di" bpmnElement="Flow_0yskhnd">
        <di:waypoint x="930" y="390" />
        <di:waypoint x="930" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07kbyoj_di" bpmnElement="Flow_07kbyoj">
        <di:waypoint x="845" y="278" />
        <di:waypoint x="908" y="278" />
        <di:waypoint x="908" y="332" />
        <di:waypoint x="970" y="332" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vh8sau_di" bpmnElement="Flow_0vh8sau">
        <di:waypoint x="820" y="253" />
        <di:waypoint x="820" y="200" />
        <di:waypoint x="880" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1why1f1_di" bpmnElement="Flow_1why1f1">
        <di:waypoint x="820" y="303" />
        <di:waypoint x="820" y="332" />
        <di:waypoint x="890" y="332" />
        <di:waypoint x="890" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0un6jzh_di" bpmnElement="Flow_0un6jzh">
        <di:waypoint x="1020" y="292" />
        <di:waypoint x="1020" y="210" />
        <di:waypoint x="1080" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gr02i3_di" bpmnElement="Flow_0gr02i3">
        <di:waypoint x="1180" y="180" />
        <di:waypoint x="1241" y="180" />
        <di:waypoint x="1241" y="278" />
        <di:waypoint x="1302" y="278" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dit7wy_di" bpmnElement="Flow_1dit7wy">
        <di:waypoint x="980" y="180" />
        <di:waypoint x="1080" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16pikkd_di" bpmnElement="Flow_16pikkd">
        <di:waypoint x="730" y="278" />
        <di:waypoint x="795" y="278" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02d7sdc_di" bpmnElement="Flow_02d7sdc">
        <di:waypoint x="530" y="278" />
        <di:waypoint x="630" y="278" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e2fwbz_di" bpmnElement="Flow_1e2fwbz">
        <di:waypoint x="308" y="278" />
        <di:waypoint x="430" y="278" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="272" y="260" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="250" y="303" width="81" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_03lb1v3_di" bpmnElement="Event_03lb1v3">
        <dc:Bounds x="1302" y="260" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1286" y="303" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_11bw6u5_di" bpmnElement="Activity_0xtxp0k">
        <dc:Bounds x="430" y="238" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_093v3xx_di" bpmnElement="Gateway_093v3xx" isMarkerVisible="true">
        <dc:Bounds x="795" y="253" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="857" y="271" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_14eiu24_di" bpmnElement="Activity_0flz5fj">
        <dc:Bounds x="880" y="140" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0417tcy_di" bpmnElement="Activity_04rdh8t">
        <dc:Bounds x="1080" y="140" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0hg34hj_di" bpmnElement="Activity_1ivnm4u">
        <dc:Bounds x="840" y="390" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_13b5ap8_di" bpmnElement="Activity_00j3fq5">
        <dc:Bounds x="970" y="292" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zke7xv_di" bpmnElement="Activity_1dx7y1t">
        <dc:Bounds x="630" y="238" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Group_0ipv9a3_di" bpmnElement="Group_0ipv9a3">
        <dc:Bounds x="160" y="60" width="1440" height="460" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1t3w0kv_di" bpmnElement="TextAnnotation_1t3w0kv">
        <dc:Bounds x="760" y="185" width="50" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1hk4rg2_di" bpmnElement="TextAnnotation_1hk4rg2">
        <dc:Bounds x="740" y="317" width="50" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0wenwgm_di" bpmnElement="Association_0wenwgm">
        <di:waypoint x="810.5" y="332" />
        <di:waypoint x="790" y="332" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0heymm6_di" bpmnElement="Association_0heymm6">
        <di:waypoint x="824" y="200" />
        <di:waypoint x="810" y="200" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
